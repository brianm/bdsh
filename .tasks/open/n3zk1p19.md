---
yatl_version: 1
title: Remove test sshd dependency on user SSH keys
id: n3zk1p19
created: 2026-01-27T02:18:09.280800Z
updated: 2026-01-27T02:18:09.280800Z
author: Brian McCallister
priority: medium
tags:
- testing
---

The TestSshd helper currently requires ~/.ssh/id_ed25519.pub or id_rsa.pub to exist. Make it self-contained by:

1. Generate a test client keypair (ED25519) in the temp directory
2. Use that keypair for authorized_keys
3. Pass the private key path to ssh via -i flag in ssh_args()
4. Update tests to use the generated key

This makes tests portable and doesn't require the user to have SSH keys configured.

File: tests/common/mod.rs

---
# Log: 2026-01-27T02:18:09Z Brian McCallister

Created task.
