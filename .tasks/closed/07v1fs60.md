---
yatl_version: 1
title: Implement directory watcher for client mode
id: 07v1fs60
created: 2026-01-18T21:41:17.394992Z
updated: 2026-01-27T02:12:52.865814Z
author: Brian McCallister
priority: high
tags:
- client-mode
blocked_by:
- r5tbh396
---

Client mode watches the output directory for changes:

Use notify crate (or similar) to watch for:
- New host directories appearing
- out.log files being written to
- status files changing (running -> success/failed)
- meta.json files being written

On changes, trigger re-render of the consensus view.

Client mode is started with hidden flag: `bdsh --watch $output_dir`
This keeps client mode completely decoupled from tmux.

Consider:
- Debouncing rapid file changes
- Handling partial writes (file not yet complete)
- Graceful handling of directory being deleted

---
# Log: 2026-01-18T21:41:17Z Brian McCallister

Created task.

---
# Log: 2026-01-18T21:41:37Z Brian McCallister

Added blocker: r5tbh396

---
# Log: 2026-01-27T02:09:51Z Brian McCallister

Started working.

---
# Log: 2026-01-27T02:12:52Z Brian McCallister

Closed: Implemented directory watcher using notify crate with debouncing
